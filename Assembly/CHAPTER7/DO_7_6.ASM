.MODEL	SMALL
.STACK	100H
.CODE
MAIN	PROC

@BEGIN:
	MOV	AH,2
	MOV	DL,'?'
	INT	21H

	MOV	BL,0
	MOV	AH,1
	INT	21H
@WHILE:
	CMP	AL,0DH
	JE	@END_WHILE
	CMP	AL,'0'
	JB	@ERROR
	CMP	AL,'9'
	JA	@ERROR

	AND	AL,0FH
	ADD	BL,AL		;ADD
	INT	21H
	JMP	@WHILE
@END_WHILE:
	MOV	AH,2
	MOV	DL,0DH
	INT	21H
	MOV	DL,0AH
	INT	21H

	MOV	DH,2
	MOV	CL,4
@OUTPUT:
	MOV	DL,BL
	SHR	DL,CL

	CMP	DL,0AH
	JL	@NUMBER

	ADD	DL,37H		;TRANSLATE
	JMP	@NEXT
@NUMBER:
	OR	DL,30H		;TRANSLATE
@NEXT:
	INT	21H		;PRINT
	ROL	BL,CL
	DEC	DH		;COUNT -1
	JNZ	@OUTPUT

	JMP	@EXIT
@ERROR:
	MOV	AH,2
	MOV	DL,0DH
	INT	21H
	MOV	DL,0AH
	INT	21H
	JMP	@BEGIN
@EXIT:
	MOV	AH,4CH
	INT	21H
MAIN	ENDP
	END	MAIN
